Este documento cont√©m todas as verifica√ß√µes necess√°rias para cada rota da API do projeto de gerenciamento de finan√ßas pessoais: financeFlow.

---

üîê Autentica√ß√£o & Usu√°rio

POST /login ‚Äì Login
- [ ] email e senha presentes
- [ ] verificar se email existe
- [ ] comparar senha com bcrypt
- [ ] gerar token JWT

GET /perfil ‚Äì Obter perfil
- [ ] token JWT presente
- [ ] validar token
- [ ] retornar dados do usu√°rio autenticado

PUT /perfil ‚Äì Atualizar perfil
- [ ] token JWT presente e v√°lido
- [ ] validar nome/email/senha
- [ ] verificar se novo email j√° existe
- [ ] criptografar nova senha se for alterada

DELETE /perfil ‚Äì Excluir conta
- [ ] token JWT v√°lido
- [ ] confirmar exist√™ncia do usu√°rio
- [ ] deletar dados associados (transa√ß√µes, metas, categorias)

---

## üí∏ Transa√ß√µes

GET /transacoes
- [ ] token JWT v√°lido
- [ ] aplicar filtros se presentes (data, tipo, categoria)
- [ ] retornar apenas transa√ß√µes do usu√°rio

GET /transacoes/:id
- [ ] token JWT v√°lido
- [ ] verificar se transa√ß√£o existe e pertence ao usu√°rio

POST /transacoes
- [ ] token JWT v√°lido
- [ ] campos obrigat√≥rios: valor, tipo, categoria_id
- [ ] valor num√©rico e positivo
- [ ] tipo deve ser 'entrada' ou 'saida'
- [ ] categoria_id deve existir e pertencer ao usu√°rio

PUT /transacoes/:id
- [ ] token JWT v√°lido
- [ ] verificar se transa√ß√£o existe e √© do usu√°rio
- [ ] validar campos modificados

DELETE /transacoes/:id
- [ ] token JWT v√°lido
- [ ] verificar se transa√ß√£o existe e pertence ao usu√°rio

GET /transacoes/resumo
- [ ] token JWT v√°lido
- [ ] calcular entradas, sa√≠das e saldo

GET /transacoes/grafico
- [ ] token JWT v√°lido
- [ ] validar par√¢metros de agrupamento (m√™s/categoria)

---

## üè∑Ô∏è Categorias

GET /categorias
- [ ] token JWT v√°lido

GET /categorias/:id
- [ ] token JWT v√°lido
- [ ] verificar se categoria existe e pertence ao usu√°rio

POST /categorias
- [ ] token JWT v√°lido
- [ ] nome e tipo obrigat√≥rios
- [ ] tipo deve ser 'entrada' ou 'saida'

PUT /categorias/:id
- [ ] token JWT v√°lido
- [ ] verificar se categoria pertence ao usu√°rio
- [ ] validar campos

DELETE /categorias/:id
- [ ] token JWT v√°lido
- [ ] verificar se categoria pertence ao usu√°rio
- [ ] impedir exclus√£o se houver transa√ß√µes associadas (opcional)

---

## üéØ Metas

GET /metas
- [ ] token JWT v√°lido

GET /metas/:id
- [ ] token JWT v√°lido
- [ ] verificar se meta pertence ao usu√°rio

POST /metas
- [ ] token JWT v√°lido
- [ ] titulo e valor_total obrigat√≥rios
- [ ] valor_total positivo
- [ ] valor_atual ‚â• 0

PUT /metas/:id
- [ ] token JWT v√°lido
- [ ] verificar se meta pertence ao usu√°rio
- [ ] validar campos modificados

PATCH /metas/:id/adicionar
- [ ] token JWT v√°lido
- [ ] valor positivo
- [ ] valor_atual + valor ‚â§ valor_total

DELETE /metas/:id
- [ ] token JWT v√°lido
- [ ] verificar se meta pertence ao usu√°rio